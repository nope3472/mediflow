{
    "sourceFile": "lib/login.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 20,
            "patches": [
                {
                    "date": 1744486133171,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1744486518723,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,9 @@\n               mainAxisAlignment: MainAxisAlignment.center,\r\n               children: [\r\n                 // App Logo or Medical Image\r\n                 Image.asset(\r\n-                  'assets/images/med_logo.png',\r\n+                  'assets/images/logo.webp',\r\n                   height: 150,\r\n                 ),\r\n                 const SizedBox(height: 20),\r\n \r\n"
                },
                {
                    "date": 1744486782772,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,12 +18,9 @@\n             child: Column(\r\n               mainAxisAlignment: MainAxisAlignment.center,\r\n               children: [\r\n                 // App Logo or Medical Image\r\n-                Image.asset(\r\n-                  'assets/images/logo.webp',\r\n-                  height: 150,\r\n-                ),\r\n+                Image.asset('lib/assets/images/logo.webp', height: 150),\r\n                 const SizedBox(height: 20),\r\n \r\n                 // App Name\r\n                 const Text(\r\n@@ -38,12 +35,9 @@\n \r\n                 // Tagline\r\n                 const Text(\r\n                   \"Your Health, Your Flow\",\r\n-                  style: TextStyle(\r\n-                    fontSize: 16,\r\n-                    color: Colors.grey,\r\n-                  ),\r\n+                  style: TextStyle(fontSize: 16, color: Colors.grey),\r\n                 ),\r\n                 const SizedBox(height: 40),\r\n \r\n                 // Email TextField\r\n@@ -86,12 +80,9 @@\n                       shape: RoundedRectangleBorder(\r\n                         borderRadius: BorderRadius.circular(12),\r\n                       ),\r\n                     ),\r\n-                    child: const Text(\r\n-                      'Login',\r\n-                      style: TextStyle(fontSize: 16),\r\n-                    ),\r\n+                    child: const Text('Login', style: TextStyle(fontSize: 16)),\r\n                   ),\r\n                 ),\r\n                 const SizedBox(height: 16),\r\n \r\n@@ -130,9 +121,9 @@\n                       child: const Text(\r\n                         \"Register\",\r\n                         style: TextStyle(color: Colors.teal),\r\n                       ),\r\n-                    )\r\n+                    ),\r\n                   ],\r\n                 ),\r\n               ],\r\n             ),\r\n"
                },
                {
                    "date": 1744486803618,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,9 +18,9 @@\n             child: Column(\r\n               mainAxisAlignment: MainAxisAlignment.center,\r\n               children: [\r\n                 // App Logo or Medical Image\r\n-                Image.asset('lib/assets/images/logo.webp', height: 150),\r\n+                Image.asset('assets/images/logo.webp', height: 150),\r\n                 const SizedBox(height: 20),\r\n \r\n                 // App Name\r\n                 const Text(\r\n"
                },
                {
                    "date": 1744486857249,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -103,9 +103,25 @@\n                 SignInButton(\r\n                   Buttons.Google,\r\n                   text: \"Sign in with Google\",\r\n                   onPressed: () {\r\n-                    // Handle Google login here\r\n+                    SignInButton(\r\n+  Buttons.Google,\r\n+  text: \"Sign in with Google\",\r\n+  onPressed: () async {\r\n+    final userCredential = await AuthService().signInWithGoogle();\r\n+    if (userCredential != null) {\r\n+      Navigator.pushReplacement(\r\n+        context,\r\n+        MaterialPageRoute(builder: (context) => const HomePage()),\r\n+      );\r\n+    } else {\r\n+      ScaffoldMessenger.of(context).showSnackBar(\r\n+        const SnackBar(content: Text(\"Google sign-in failed\")),\r\n+      );\r\n+    }\r\n+  },\r\n+),\r\n                   },\r\n                 ),\r\n                 const SizedBox(height: 24),\r\n \r\n"
                },
                {
                    "date": 1744486872876,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -99,12 +99,9 @@\n                 ),\r\n                 const SizedBox(height: 16),\r\n \r\n                 // Google Sign-In\r\n-                SignInButton(\r\n-                  Buttons.Google,\r\n-                  text: \"Sign in with Google\",\r\n-                  onPressed: () {\r\n+               \r\n                     SignInButton(\r\n   Buttons.Google,\r\n   text: \"Sign in with Google\",\r\n   onPressed: () async {\r\n"
                },
                {
                    "date": 1744486880462,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -99,26 +99,13 @@\n                 ),\r\n                 const SizedBox(height: 16),\r\n \r\n                 // Google Sign-In\r\n-               \r\n-                    SignInButton(\r\n-  Buttons.Google,\r\n-  text: \"Sign in with Google\",\r\n-  onPressed: () async {\r\n-    final userCredential = await AuthService().signInWithGoogle();\r\n-    if (userCredential != null) {\r\n-      Navigator.pushReplacement(\r\n-        context,\r\n-        MaterialPageRoute(builder: (context) => const HomePage()),\r\n-      );\r\n-    } else {\r\n-      ScaffoldMessenger.of(context).showSnackBar(\r\n-        const SnackBar(content: Text(\"Google sign-in failed\")),\r\n-      );\r\n-    }\r\n-  },\r\n-),\r\n+                SignInButton(\r\n+                  Buttons.Google,\r\n+                  text: \"Sign in with Google\",\r\n+                  onPressed: () {\r\n+                    // Handle Google login here\r\n                   },\r\n                 ),\r\n                 const SizedBox(height: 24),\r\n \r\n"
                },
                {
                    "date": 1744486903105,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -100,14 +100,24 @@\n                 const SizedBox(height: 16),\r\n \r\n                 // Google Sign-In\r\n                 SignInButton(\r\n-                  Buttons.Google,\r\n-                  text: \"Sign in with Google\",\r\n-                  onPressed: () {\r\n-                    // Handle Google login here\r\n-                  },\r\n-                ),\r\n+  Buttons.Google,\r\n+  text: \"Sign in with Google\",\r\n+  onPressed: () async {\r\n+    final userCredential = await AuthService().signInWithGoogle();\r\n+    if (userCredential != null) {\r\n+      Navigator.pushReplacement(\r\n+        context,\r\n+        MaterialPageRoute(builder: (context) => const HomePage()),\r\n+      );\r\n+    } else {\r\n+      ScaffoldMessenger.of(context).showSnackBar(\r\n+        const SnackBar(content: Text(\"Google sign-in failed\")),\r\n+      );\r\n+    }\r\n+  },\r\n+),\r\n                 const SizedBox(height: 24),\r\n \r\n                 // Register Option\r\n                 Row(\r\n"
                },
                {
                    "date": 1744486909569,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n import 'package:flutter/material.dart';\r\n import 'package:flutter_signin_button/flutter_signin_button.dart';\r\n+import 'package:medi_flow_new/auth_service.dart';\r\n \r\n class LoginPage extends StatelessWidget {\r\n   final TextEditingController emailController = TextEditingController();\r\n   final TextEditingController passwordController = TextEditingController();\r\n"
                },
                {
                    "date": 1744486929964,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n import 'package:flutter/material.dart';\r\n import 'package:flutter_signin_button/flutter_signin_button.dart';\r\n import 'package:medi_flow_new/auth_service.dart';\r\n+import 'package:medi_flow_new/home_page.dart';\r\n \r\n class LoginPage extends StatelessWidget {\r\n   final TextEditingController emailController = TextEditingController();\r\n   final TextEditingController passwordController = TextEditingController();\r\n"
                },
                {
                    "date": 1744487740860,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,147 +1,135 @@\n-import 'package:flutter/material.dart';\r\n-import 'package:flutter_signin_button/flutter_signin_button.dart';\r\n-import 'package:medi_flow_new/auth_service.dart';\r\n-import 'package:medi_flow_new/home_page.dart';\r\n-\r\n-class LoginPage extends StatelessWidget {\r\n-  final TextEditingController emailController = TextEditingController();\r\n-  final TextEditingController passwordController = TextEditingController();\r\n-\r\n-  LoginPage({super.key});\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Scaffold(\r\n-      backgroundColor: Colors.white,\r\n-      body: SafeArea(\r\n-        child: Center(\r\n-          child: SingleChildScrollView(\r\n-            padding: const EdgeInsets.symmetric(horizontal: 32),\r\n-            child: Column(\r\n-              mainAxisAlignment: MainAxisAlignment.center,\r\n-              children: [\r\n-                // App Logo or Medical Image\r\n-                Image.asset('assets/images/logo.webp', height: 150),\r\n-                const SizedBox(height: 20),\r\n-\r\n-                // App Name\r\n-                const Text(\r\n-                  \"MediFlow\",\r\n-                  style: TextStyle(\r\n-                    fontSize: 32,\r\n-                    fontWeight: FontWeight.bold,\r\n-                    color: Colors.teal,\r\n-                  ),\r\n-                ),\r\n-                const SizedBox(height: 10),\r\n-\r\n-                // Tagline\r\n-                const Text(\r\n-                  \"Your Health, Your Flow\",\r\n-                  style: TextStyle(fontSize: 16, color: Colors.grey),\r\n-                ),\r\n-                const SizedBox(height: 40),\r\n-\r\n-                // Email TextField\r\n-                TextField(\r\n-                  controller: emailController,\r\n-                  decoration: InputDecoration(\r\n-                    labelText: 'Email',\r\n-                    prefixIcon: const Icon(Icons.email),\r\n-                    border: OutlineInputBorder(\r\n-                      borderRadius: BorderRadius.circular(12),\r\n-                    ),\r\n-                  ),\r\n-                ),\r\n-                const SizedBox(height: 16),\r\n-\r\n-                // Password TextField\r\n-                TextField(\r\n-                  controller: passwordController,\r\n-                  obscureText: true,\r\n-                  decoration: InputDecoration(\r\n-                    labelText: 'Password',\r\n-                    prefixIcon: const Icon(Icons.lock),\r\n-                    border: OutlineInputBorder(\r\n-                      borderRadius: BorderRadius.circular(12),\r\n-                    ),\r\n-                  ),\r\n-                ),\r\n-                const SizedBox(height: 24),\r\n-\r\n-                // Login Button\r\n-                SizedBox(\r\n-                  width: double.infinity,\r\n-                  child: ElevatedButton(\r\n-                    onPressed: () {\r\n-                      // Handle email login here\r\n-                    },\r\n-                    style: ElevatedButton.styleFrom(\r\n-                      backgroundColor: Colors.teal,\r\n-                      padding: const EdgeInsets.symmetric(vertical: 14),\r\n-                      shape: RoundedRectangleBorder(\r\n-                        borderRadius: BorderRadius.circular(12),\r\n-                      ),\r\n-                    ),\r\n-                    child: const Text('Login', style: TextStyle(fontSize: 16)),\r\n-                  ),\r\n-                ),\r\n-                const SizedBox(height: 16),\r\n-\r\n-                // OR Divider\r\n-                Row(\r\n-                  children: const [\r\n-                    Expanded(child: Divider()),\r\n-                    Padding(\r\n-                      padding: EdgeInsets.symmetric(horizontal: 10),\r\n-                      child: Text(\"OR\"),\r\n-                    ),\r\n-                    Expanded(child: Divider()),\r\n-                  ],\r\n-                ),\r\n-                const SizedBox(height: 16),\r\n-\r\n-                // Google Sign-In\r\n-                SignInButton(\r\n-  Buttons.Google,\r\n-  text: \"Sign in with Google\",\r\n-  onPressed: () async {\r\n-    final userCredential = await AuthService().signInWithGoogle();\r\n-    if (userCredential != null) {\r\n-      Navigator.pushReplacement(\r\n-        context,\r\n-        MaterialPageRoute(builder: (context) => const HomePage()),\r\n-      );\r\n-    } else {\r\n-      ScaffoldMessenger.of(context).showSnackBar(\r\n-        const SnackBar(content: Text(\"Google sign-in failed\")),\r\n-      );\r\n-    }\r\n-  },\r\n-),\r\n-                const SizedBox(height: 24),\r\n-\r\n-                // Register Option\r\n-                Row(\r\n-                  mainAxisAlignment: MainAxisAlignment.center,\r\n-                  children: [\r\n-                    const Text(\"Don't have an account?\"),\r\n-                    TextButton(\r\n-                      onPressed: () {\r\n-                        // Navigate to Sign up page\r\n-                      },\r\n-                      child: const Text(\r\n-                        \"Register\",\r\n-                        style: TextStyle(color: Colors.teal),\r\n-                      ),\r\n-                    ),\r\n-                  ],\r\n-                ),\r\n-              ],\r\n-            ),\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n+import 'package:flutter/material.dart';\n+import 'package:flutter_signin_button/flutter_signin_button.dart';\n+\n+class LoginPage extends StatelessWidget {\n+  final TextEditingController emailController = TextEditingController();\n+  final TextEditingController passwordController = TextEditingController();\n+\n+  LoginPage({super.key});\n+\n+  @override\n+  Widget build(BuildContext context) {\n+    return Scaffold(\n+      backgroundColor: Colors.white,\n+      body: SafeArea(\n+        child: Center(\n+          child: SingleChildScrollView(\n+            padding: const EdgeInsets.symmetric(horizontal: 32),\n+            child: Column(\n+              mainAxisAlignment: MainAxisAlignment.center,\n+              children: [\n+                // App Logo or Medical Image\n+                Image.asset('assets/images/logo.webp', height: 150),\n+                const SizedBox(height: 20),\n+\n+                // App Name\n+                const Text(\n+                  \"MediFlow\",\n+                  style: TextStyle(\n+                    fontSize: 32,\n+                    fontWeight: FontWeight.bold,\n+                    color: Colors.teal,\n+                  ),\n+                ),\n+                const SizedBox(height: 10),\n+\n+                // Tagline\n+                const Text(\n+                  \"Your Health, Your Flow\",\n+                  style: TextStyle(fontSize: 16, color: Colors.grey),\n+                ),\n+                const SizedBox(height: 40),\n+\n+                // Email TextField\n+                TextField(\n+                  controller: emailController,\n+                  decoration: InputDecoration(\n+                    labelText: 'Email',\n+                    prefixIcon: const Icon(Icons.email),\n+                    border: OutlineInputBorder(\n+                      borderRadius: BorderRadius.circular(12),\n+                    ),\n+                  ),\n+                ),\n+                const SizedBox(height: 16),\n+\n+                // Password TextField\n+                TextField(\n+                  controller: passwordController,\n+                  obscureText: true,\n+                  decoration: InputDecoration(\n+                    labelText: 'Password',\n+                    prefixIcon: const Icon(Icons.lock),\n+                    border: OutlineInputBorder(\n+                      borderRadius: BorderRadius.circular(12),\n+                    ),\n+                  ),\n+                ),\n+                const SizedBox(height: 24),\n+\n+                // Login Button\n+                SizedBox(\n+                  width: double.infinity,\n+                  child: ElevatedButton(\n+                    onPressed: () {\n+                      // Handle email login here\n+                    },\n+                    style: ElevatedButton.styleFrom(\n+                      backgroundColor: Colors.teal,\n+                      padding: const EdgeInsets.symmetric(vertical: 14),\n+                      shape: RoundedRectangleBorder(\n+                        borderRadius: BorderRadius.circular(12),\n+                      ),\n+                    ),\n+                    child: const Text('Login', style: TextStyle(fontSize: 16)),\n+                  ),\n+                ),\n+                const SizedBox(height: 16),\n+\n+                // OR Divider\n+                Row(\n+                  children: const [\n+                    Expanded(child: Divider()),\n+                    Padding(\n+                      padding: EdgeInsets.symmetric(horizontal: 10),\n+                      child: Text(\"OR\"),\n+                    ),\n+                    Expanded(child: Divider()),\n+                  ],\n+                ),\n+                const SizedBox(height: 16),\n+\n+                // Google Sign-In\n+                SignInButton(\n+                  Buttons.Google,\n+                  text: \"Sign in with Google\",\n+                  onPressed: () {\n+                    // Handle Google login here\n+                  },\n+                ),\n+                const SizedBox(height: 24),\n+\n+                // Register Option\n+                Row(\n+                  mainAxisAlignment: MainAxisAlignment.center,\n+                  children: [\n+                    const Text(\"Don't have an account?\"),\n+                    TextButton(\n+                      onPressed: () {\n+                        // Navigate to Sign up page\n+                      },\n+                      child: const Text(\n+                        \"Register\",\n+                        style: TextStyle(color: Colors.teal),\n+                      ),\n+                    ),\n+                  ],\n+                ),\n+              ],\n+            ),\n+          ),\n+        ),\n+      ),\n+    );\n+  }\n+}\n"
                },
                {
                    "date": 1744487790155,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,8 @@\n import 'package:flutter/material.dart';\n import 'package:flutter_signin_button/flutter_signin_button.dart';\n+import 'package:medi_flow_new/auth_service.dart';\n+import 'package:medi_flow_new/home_page.dart';\n \n class LoginPage extends StatelessWidget {\n   final TextEditingController emailController = TextEditingController();\n   final TextEditingController passwordController = TextEditingController();\n@@ -102,10 +104,23 @@\n                 // Google Sign-In\n                 SignInButton(\n                   Buttons.Google,\n                   text: \"Sign in with Google\",\n-                  onPressed: () {\n-                    // Handle Google login here\n+                  onPressed: () async {\n+                    final userCredential =\n+                        await AuthService().signInWithGoogle();\n+                    if (userCredential != null) {\n+                      Navigator.pushReplacement(\n+                        context,\n+                        MaterialPageRoute(\n+                          builder: (context) => const HomePage(),\n+                        ),\n+                      );\n+                    } else {\n+                      ScaffoldMessenger.of(context).showSnackBar(\n+                        const SnackBar(content: Text(\"Google sign-in failed\")),\n+                      );\n+                    }\n                   },\n                 ),\n                 const SizedBox(height: 24),\n \n"
                },
                {
                    "date": 1744489096397,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n import 'package:flutter/material.dart';\n import 'package:flutter_signin_button/flutter_signin_button.dart';\n import 'package:medi_flow_new/auth_service.dart';\n+import 'package:medi_flow_new/home_dashboard.dart';\n import 'package:medi_flow_new/home_page.dart';\n \n class LoginPage extends StatelessWidget {\n   final TextEditingController emailController = TextEditingController();\n@@ -111,9 +112,9 @@\n                     if (userCredential != null) {\n                       Navigator.pushReplacement(\n                         context,\n                         MaterialPageRoute(\n-                          builder: (context) => const HomePage(),\n+                          builder: (context) => const HomeDashboard(),\n                         ),\n                       );\n                     } else {\n                       ScaffoldMessenger.of(context).showSnackBar(\n"
                },
                {
                    "date": 1744489155026,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,8 @@\n import 'package:flutter/material.dart';\n import 'package:flutter_signin_button/flutter_signin_button.dart';\n import 'package:medi_flow_new/auth_service.dart';\n import 'package:medi_flow_new/home_dashboard.dart';\n-import 'package:medi_flow_new/home_page.dart';\n \n class LoginPage extends StatelessWidget {\n   final TextEditingController emailController = TextEditingController();\n   final TextEditingController passwordController = TextEditingController();\n@@ -109,12 +108,15 @@\n                   onPressed: () async {\n                     final userCredential =\n                         await AuthService().signInWithGoogle();\n                     if (userCredential != null) {\n+                      // Get the user's name\n+                      final userName = userCredential.user?.displayName ?? 'User';\n+\n                       Navigator.pushReplacement(\n                         context,\n                         MaterialPageRoute(\n-                          builder: (context) => const HomeDashboard(),\n+                          builder: (context) => HomeDashboard(userName: userName),\n                         ),\n                       );\n                     } else {\n                       ScaffoldMessenger.of(context).showSnackBar(\n"
                },
                {
                    "date": 1744621106890,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -114,9 +114,9 @@\n \n                       Navigator.pushReplacement(\n                         context,\n                         MaterialPageRoute(\n-                          builder: (context) => HomeDashboard(userName: userName),\n+                          builder: (context) => HomeDashboard(userName: userName, userRole: '',),\n                         ),\n                       );\n                     } else {\n                       ScaffoldMessenger.of(context).showSnackBar(\n"
                },
                {
                    "date": 1744621225328,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,172 @@\n+import 'package:flutter/material.dart';\n+import 'package:flutter_signin_button/flutter_signin_button.dart';\n+import 'package:medi_flow_new/auth_service.dart';\n+import 'package:medi_flow_new/home_dashboard.dart';\n+import 'package:shared_preferences/shared_preferences.dart';\n+\n+class LoginPage extends StatelessWidget {\n+  final TextEditingController emailController = TextEditingController();\n+  final TextEditingController passwordController = TextEditingController();\n+\n+  LoginPage({super.key});\n+\n+  @override\n+  Widget build(BuildContext context) {\n+    return Scaffold(\n+      backgroundColor: Colors.white,\n+      body: SafeArea(\n+        child: Center(\n+          child: SingleChildScrollView(\n+            padding: const EdgeInsets.symmetric(horizontal: 32),\n+            child: Column(\n+              mainAxisAlignment: MainAxisAlignment.center,\n+              children: [\n+                // App Logo or Medical Image\n+                Image.asset('assets/images/logo.webp', height: 150),\n+                const SizedBox(height: 20),\n+\n+                // App Name\n+                const Text(\n+                  \"MediFlow\",\n+                  style: TextStyle(\n+                    fontSize: 32,\n+                    fontWeight: FontWeight.bold,\n+                    color: Colors.teal,\n+                  ),\n+                ),\n+                const SizedBox(height: 10),\n+\n+                // Tagline\n+                const Text(\n+                  \"Your Health, Your Flow\",\n+                  style: TextStyle(fontSize: 16, color: Colors.grey),\n+                ),\n+                const SizedBox(height: 40),\n+\n+                // Email TextField\n+                TextField(\n+                  controller: emailController,\n+                  decoration: InputDecoration(\n+                    labelText: 'Email',\n+                    prefixIcon: const Icon(Icons.email),\n+                    border: OutlineInputBorder(\n+                      borderRadius: BorderRadius.circular(12),\n+                    ),\n+                  ),\n+                ),\n+                const SizedBox(height: 16),\n+\n+                // Password TextField\n+                TextField(\n+                  controller: passwordController,\n+                  obscureText: true,\n+                  decoration: InputDecoration(\n+                    labelText: 'Password',\n+                    prefixIcon: const Icon(Icons.lock),\n+                    border: OutlineInputBorder(\n+                      borderRadius: BorderRadius.circular(12),\n+                    ),\n+                  ),\n+                ),\n+                const SizedBox(height: 24),\n+\n+                // Login Button\n+                SizedBox(\n+                  width: double.infinity,\n+                  child: ElevatedButton(\n+                    onPressed: () {\n+                      // Handle email login here\n+                    },\n+                    style: ElevatedButton.styleFrom(\n+                      backgroundColor: Colors.teal,\n+                      padding: const EdgeInsets.symmetric(vertical: 14),\n+                      shape: RoundedRectangleBorder(\n+                        borderRadius: BorderRadius.circular(12),\n+                      ),\n+                    ),\n+                    child: const Text('Login', style: TextStyle(fontSize: 16)),\n+                  ),\n+                ),\n+                const SizedBox(height: 16),\n+\n+                // OR Divider\n+                Row(\n+                  children: const [\n+                    Expanded(child: Divider()),\n+                    Padding(\n+                      padding: EdgeInsets.symmetric(horizontal: 10),\n+                      child: Text(\"OR\"),\n+                    ),\n+                    Expanded(child: Divider()),\n+                  ],\n+                ),\n+                const SizedBox(height: 16),\n+\n+                // Google Sign-In\n+                SignInButton(\n+                  Buttons.Google,\n+                  text: \"Sign in with Google\",\n+                  onPressed: () async {\n+                    final userCredential =\n+                        await AuthService().signInWithGoogle();\n+                    if (userCredential != null) {\n+                      // Get the user's name\n+                      final userName =\n+                          userCredential.user?.displayName ?? 'User';\n+                      final prefs = await SharedPreferences.getInstance();\n+                      bool roleSelected =\n+                          prefs.getBool('role_selected') ?? false;\n+\n+                      if (!roleSelected) {\n+                        if (context.mounted) {\n+                          Navigator.pushReplacement(\n+                            context,\n+                            MaterialPageRoute(\n+                              builder: (context) => const RoleSelectionScreen(),\n+                            ),\n+                          );\n+                        }\n+                      } else {\n+                        if (context.mounted) {\n+                          Navigator.pushReplacement(\n+                            context,\n+                            MaterialPageRoute(\n+                              builder: (context) =>\n+                                  HomeDashboard(userName: userName),\n+                            ),\n+                          );\n+                        }\n+                      }\n+                    } else {\n+                      ScaffoldMessenger.of(context).showSnackBar(\n+                        const SnackBar(content: Text(\"Google sign-in failed\")),\n+                      );\n+                    }\n+                  },\n+                ),\n+                const SizedBox(height: 24),\n+\n+                // Register Option\n+                Row(\n+                  mainAxisAlignment: MainAxisAlignment.center,\n+                  children: [\n+                    const Text(\"Don't have an account?\"),\n+                    TextButton(\n+                      onPressed: () {\n+                        // Navigate to Sign up page\n+                      },\n+                      child: const Text(\n+                        \"Register\",\n+                        style: TextStyle(color: Colors.teal),\n+                      ),\n+                    ),\n+                  ],\n+                ),\n+              ],\n+            ),\n+          ),\n+        ),\n+      ),\n+    );\n+  }\n+}\n"
                },
                {
                    "date": 1744621242460,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,9 @@\n import 'package:flutter/material.dart';\n import 'package:flutter_signin_button/flutter_signin_button.dart';\n import 'package:medi_flow_new/auth_service.dart';\n import 'package:medi_flow_new/home_dashboard.dart';\n+import 'package:medi_flow_new/role_selection_screen.dart';\n import 'package:shared_preferences/shared_preferences.dart';\n \n class LoginPage extends StatelessWidget {\n   final TextEditingController emailController = TextEditingController();\n@@ -169,157 +170,4 @@\n       ),\n     );\n   }\n }\n-import 'package:flutter/material.dart';\n-import 'package:flutter_signin_button/flutter_signin_button.dart';\n-import 'package:medi_flow_new/auth_service.dart';\n-import 'package:medi_flow_new/home_dashboard.dart';\n-\n-class LoginPage extends StatelessWidget {\n-  final TextEditingController emailController = TextEditingController();\n-  final TextEditingController passwordController = TextEditingController();\n-\n-  LoginPage({super.key});\n-\n-  @override\n-  Widget build(BuildContext context) {\n-    return Scaffold(\n-      backgroundColor: Colors.white,\n-      body: SafeArea(\n-        child: Center(\n-          child: SingleChildScrollView(\n-            padding: const EdgeInsets.symmetric(horizontal: 32),\n-            child: Column(\n-              mainAxisAlignment: MainAxisAlignment.center,\n-              children: [\n-                // App Logo or Medical Image\n-                Image.asset('assets/images/logo.webp', height: 150),\n-                const SizedBox(height: 20),\n-\n-                // App Name\n-                const Text(\n-                  \"MediFlow\",\n-                  style: TextStyle(\n-                    fontSize: 32,\n-                    fontWeight: FontWeight.bold,\n-                    color: Colors.teal,\n-                  ),\n-                ),\n-                const SizedBox(height: 10),\n-\n-                // Tagline\n-                const Text(\n-                  \"Your Health, Your Flow\",\n-                  style: TextStyle(fontSize: 16, color: Colors.grey),\n-                ),\n-                const SizedBox(height: 40),\n-\n-                // Email TextField\n-                TextField(\n-                  controller: emailController,\n-                  decoration: InputDecoration(\n-                    labelText: 'Email',\n-                    prefixIcon: const Icon(Icons.email),\n-                    border: OutlineInputBorder(\n-                      borderRadius: BorderRadius.circular(12),\n-                    ),\n-                  ),\n-                ),\n-                const SizedBox(height: 16),\n-\n-                // Password TextField\n-                TextField(\n-                  controller: passwordController,\n-                  obscureText: true,\n-                  decoration: InputDecoration(\n-                    labelText: 'Password',\n-                    prefixIcon: const Icon(Icons.lock),\n-                    border: OutlineInputBorder(\n-                      borderRadius: BorderRadius.circular(12),\n-                    ),\n-                  ),\n-                ),\n-                const SizedBox(height: 24),\n-\n-                // Login Button\n-                SizedBox(\n-                  width: double.infinity,\n-                  child: ElevatedButton(\n-                    onPressed: () {\n-                      // Handle email login here\n-                    },\n-                    style: ElevatedButton.styleFrom(\n-                      backgroundColor: Colors.teal,\n-                      padding: const EdgeInsets.symmetric(vertical: 14),\n-                      shape: RoundedRectangleBorder(\n-                        borderRadius: BorderRadius.circular(12),\n-                      ),\n-                    ),\n-                    child: const Text('Login', style: TextStyle(fontSize: 16)),\n-                  ),\n-                ),\n-                const SizedBox(height: 16),\n-\n-                // OR Divider\n-                Row(\n-                  children: const [\n-                    Expanded(child: Divider()),\n-                    Padding(\n-                      padding: EdgeInsets.symmetric(horizontal: 10),\n-                      child: Text(\"OR\"),\n-                    ),\n-                    Expanded(child: Divider()),\n-                  ],\n-                ),\n-                const SizedBox(height: 16),\n-\n-                // Google Sign-In\n-                SignInButton(\n-                  Buttons.Google,\n-                  text: \"Sign in with Google\",\n-                  onPressed: () async {\n-                    final userCredential =\n-                        await AuthService().signInWithGoogle();\n-                    if (userCredential != null) {\n-                      // Get the user's name\n-                      final userName = userCredential.user?.displayName ?? 'User';\n-\n-                      Navigator.pushReplacement(\n-                        context,\n-                        MaterialPageRoute(\n-                          builder: (context) => HomeDashboard(userName: userName, userRole: '',),\n-                        ),\n-                      );\n-                    } else {\n-                      ScaffoldMessenger.of(context).showSnackBar(\n-                        const SnackBar(content: Text(\"Google sign-in failed\")),\n-                      );\n-                    }\n-                  },\n-                ),\n-                const SizedBox(height: 24),\n-\n-                // Register Option\n-                Row(\n-                  mainAxisAlignment: MainAxisAlignment.center,\n-                  children: [\n-                    const Text(\"Don't have an account?\"),\n-                    TextButton(\n-                      onPressed: () {\n-                        // Navigate to Sign up page\n-                      },\n-                      child: const Text(\n-                        \"Register\",\n-                        style: TextStyle(color: Colors.teal),\n-                      ),\n-                    ),\n-                  ],\n-                ),\n-              ],\n-            ),\n-          ),\n-        ),\n-      ),\n-    );\n-  }\n-}\n"
                },
                {
                    "date": 1744621249028,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -132,9 +132,9 @@\n                           Navigator.pushReplacement(\n                             context,\n                             MaterialPageRoute(\n                               builder: (context) =>\n-                                  HomeDashboard(userName: userName),\n+                                  HomeDashboard(userName: userName, userRole: '',),\n                             ),\n                           );\n                         }\n                       }\n"
                },
                {
                    "date": 1744621287825,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,8 @@\n import 'package:flutter/material.dart';\n import 'package:flutter_signin_button/flutter_signin_button.dart';\n import 'package:medi_flow_new/auth_service.dart';\n import 'package:medi_flow_new/home_dashboard.dart';\n-import 'package:medi_flow_new/role_selection_screen.dart';\n-import 'package:shared_preferences/shared_preferences.dart';\n \n class LoginPage extends StatelessWidget {\n   final TextEditingController emailController = TextEditingController();\n   final TextEditingController passwordController = TextEditingController();\n@@ -111,34 +109,16 @@\n                     final userCredential =\n                         await AuthService().signInWithGoogle();\n                     if (userCredential != null) {\n                       // Get the user's name\n-                      final userName =\n-                          userCredential.user?.displayName ?? 'User';\n-                      final prefs = await SharedPreferences.getInstance();\n-                      bool roleSelected =\n-                          prefs.getBool('role_selected') ?? false;\n+                      final userName = userCredential.user?.displayName ?? 'User';\n \n-                      if (!roleSelected) {\n-                        if (context.mounted) {\n-                          Navigator.pushReplacement(\n-                            context,\n-                            MaterialPageRoute(\n-                              builder: (context) => const RoleSelectionScreen(),\n-                            ),\n-                          );\n-                        }\n-                      } else {\n-                        if (context.mounted) {\n-                          Navigator.pushReplacement(\n-                            context,\n-                            MaterialPageRoute(\n-                              builder: (context) =>\n-                                  HomeDashboard(userName: userName, userRole: '',),\n-                            ),\n-                          );\n-                        }\n-                      }\n+                      Navigator.pushReplacement(\n+                        context,\n+                        MaterialPageRoute(\n+                          builder: (context) => HomeDashboard(userName: userName),\n+                        ),\n+                      );\n                     } else {\n                       ScaffoldMessenger.of(context).showSnackBar(\n                         const SnackBar(content: Text(\"Google sign-in failed\")),\n                       );\n"
                },
                {
                    "date": 1744621343340,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -105,26 +105,39 @@\n                 SignInButton(\n                   Buttons.Google,\n                   text: \"Sign in with Google\",\n                   onPressed: () async {\n-                    final userCredential =\n-                        await AuthService().signInWithGoogle();\n-                    if (userCredential != null) {\n-                      // Get the user's name\n-                      final userName =\n-                          userCredential.user?.displayName ?? 'User';\n+                    try {\n+                      final userCredential =\n+                          await AuthService().signInWithGoogle();\n+                      if (userCredential != null) {\n+                        // Get the user's name\n+                        final userName =\n+                            userCredential.user?.displayName ?? 'User';\n \n-                      Navigator.pushReplacement(\n-                        context,\n-                        MaterialPageRoute(\n-                          builder: (context) =>\n-                              HomeDashboard(userName: userName),\n+                        Navigator.pushReplacement(\n+                          context,\n+                          MaterialPageRoute(\n+                            builder: (context) =>\n+                                HomeDashboard(userName: userName),\n+                          ),\n+                        );\n+                      } else {\n+                        ScaffoldMessenger.of(context).showSnackBar(\n+                          const SnackBar(\n+                            content: Text(\"Google sign-in was canceled\"),\n+                            backgroundColor: Colors.orange,\n+                          ),\n+                        );\n+                      }\n+                    } catch (e) {\n+                      ScaffoldMessenger.of(context).showSnackBar(\n+                        SnackBar(\n+                          content:\n+                              Text(\"Google sign-in failed: ${e.toString()}\"),\n+                          backgroundColor: Colors.red,\n                         ),\n                       );\n-                    } else {\n-                      ScaffoldMessenger.of(context).showSnackBar(\n-                        const SnackBar(content: Text(\"Google sign-in failed\")),\n-                      );\n                     }\n                   },\n                 ),\n                 const SizedBox(height: 24),\n"
                },
                {
                    "date": 1744621907251,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -113,31 +113,37 @@\n                         // Get the user's name\n                         final userName =\n                             userCredential.user?.displayName ?? 'User';\n \n-                        Navigator.pushReplacement(\n-                          context,\n-                          MaterialPageRoute(\n-                            builder: (context) =>\n-                                HomeDashboard(userName: userName),\n-                          ),\n-                        );\n+                        if (context.mounted) {\n+                          Navigator.pushReplacement(\n+                            context,\n+                            MaterialPageRoute(\n+                              builder: (context) =>\n+                                  HomeDashboard(userName: userName),\n+                            ),\n+                          );\n+                        }\n                       } else {\n+                        if (context.mounted) {\n+                          ScaffoldMessenger.of(context).showSnackBar(\n+                            const SnackBar(\n+                              content: Text(\"Google sign-in was canceled\"),\n+                              backgroundColor: Colors.orange,\n+                            ),\n+                          );\n+                        }\n+                      }\n+                    } catch (e) {\n+                      if (context.mounted) {\n                         ScaffoldMessenger.of(context).showSnackBar(\n-                          const SnackBar(\n-                            content: Text(\"Google sign-in was canceled\"),\n-                            backgroundColor: Colors.orange,\n+                          SnackBar(\n+                            content:\n+                                Text(\"Google sign-in failed: ${e.toString()}\"),\n+                            backgroundColor: Colors.red,\n                           ),\n                         );\n                       }\n-                    } catch (e) {\n-                      ScaffoldMessenger.of(context).showSnackBar(\n-                        SnackBar(\n-                          content:\n-                              Text(\"Google sign-in failed: ${e.toString()}\"),\n-                          backgroundColor: Colors.red,\n-                        ),\n-                      );\n                     }\n                   },\n                 ),\n                 const SizedBox(height: 24),\n"
                }
            ],
            "date": 1744486133171,
            "name": "Commit-0",
            "content": "import 'package:flutter/material.dart';\r\nimport 'package:flutter_signin_button/flutter_signin_button.dart';\r\n\r\nclass LoginPage extends StatelessWidget {\r\n  final TextEditingController emailController = TextEditingController();\r\n  final TextEditingController passwordController = TextEditingController();\r\n\r\n  LoginPage({super.key});\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return Scaffold(\r\n      backgroundColor: Colors.white,\r\n      body: SafeArea(\r\n        child: Center(\r\n          child: SingleChildScrollView(\r\n            padding: const EdgeInsets.symmetric(horizontal: 32),\r\n            child: Column(\r\n              mainAxisAlignment: MainAxisAlignment.center,\r\n              children: [\r\n                // App Logo or Medical Image\r\n                Image.asset(\r\n                  'assets/images/med_logo.png',\r\n                  height: 150,\r\n                ),\r\n                const SizedBox(height: 20),\r\n\r\n                // App Name\r\n                const Text(\r\n                  \"MediFlow\",\r\n                  style: TextStyle(\r\n                    fontSize: 32,\r\n                    fontWeight: FontWeight.bold,\r\n                    color: Colors.teal,\r\n                  ),\r\n                ),\r\n                const SizedBox(height: 10),\r\n\r\n                // Tagline\r\n                const Text(\r\n                  \"Your Health, Your Flow\",\r\n                  style: TextStyle(\r\n                    fontSize: 16,\r\n                    color: Colors.grey,\r\n                  ),\r\n                ),\r\n                const SizedBox(height: 40),\r\n\r\n                // Email TextField\r\n                TextField(\r\n                  controller: emailController,\r\n                  decoration: InputDecoration(\r\n                    labelText: 'Email',\r\n                    prefixIcon: const Icon(Icons.email),\r\n                    border: OutlineInputBorder(\r\n                      borderRadius: BorderRadius.circular(12),\r\n                    ),\r\n                  ),\r\n                ),\r\n                const SizedBox(height: 16),\r\n\r\n                // Password TextField\r\n                TextField(\r\n                  controller: passwordController,\r\n                  obscureText: true,\r\n                  decoration: InputDecoration(\r\n                    labelText: 'Password',\r\n                    prefixIcon: const Icon(Icons.lock),\r\n                    border: OutlineInputBorder(\r\n                      borderRadius: BorderRadius.circular(12),\r\n                    ),\r\n                  ),\r\n                ),\r\n                const SizedBox(height: 24),\r\n\r\n                // Login Button\r\n                SizedBox(\r\n                  width: double.infinity,\r\n                  child: ElevatedButton(\r\n                    onPressed: () {\r\n                      // Handle email login here\r\n                    },\r\n                    style: ElevatedButton.styleFrom(\r\n                      backgroundColor: Colors.teal,\r\n                      padding: const EdgeInsets.symmetric(vertical: 14),\r\n                      shape: RoundedRectangleBorder(\r\n                        borderRadius: BorderRadius.circular(12),\r\n                      ),\r\n                    ),\r\n                    child: const Text(\r\n                      'Login',\r\n                      style: TextStyle(fontSize: 16),\r\n                    ),\r\n                  ),\r\n                ),\r\n                const SizedBox(height: 16),\r\n\r\n                // OR Divider\r\n                Row(\r\n                  children: const [\r\n                    Expanded(child: Divider()),\r\n                    Padding(\r\n                      padding: EdgeInsets.symmetric(horizontal: 10),\r\n                      child: Text(\"OR\"),\r\n                    ),\r\n                    Expanded(child: Divider()),\r\n                  ],\r\n                ),\r\n                const SizedBox(height: 16),\r\n\r\n                // Google Sign-In\r\n                SignInButton(\r\n                  Buttons.Google,\r\n                  text: \"Sign in with Google\",\r\n                  onPressed: () {\r\n                    // Handle Google login here\r\n                  },\r\n                ),\r\n                const SizedBox(height: 24),\r\n\r\n                // Register Option\r\n                Row(\r\n                  mainAxisAlignment: MainAxisAlignment.center,\r\n                  children: [\r\n                    const Text(\"Don't have an account?\"),\r\n                    TextButton(\r\n                      onPressed: () {\r\n                        // Navigate to Sign up page\r\n                      },\r\n                      child: const Text(\r\n                        \"Register\",\r\n                        style: TextStyle(color: Colors.teal),\r\n                      ),\r\n                    )\r\n                  ],\r\n                ),\r\n              ],\r\n            ),\r\n          ),\r\n        ),\r\n      ),\r\n    );\r\n  }\r\n}\r\n"
        }
    ]
}