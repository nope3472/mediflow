{
    "sourceFile": "lib/role_selection_screen.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1744620891769,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1744621079971,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n import 'package:flutter/material.dart';\r\n import 'package:shared_preferences/shared_preferences.dart';\r\n import 'package:medi_flow_new/home_dashboard.dart';\r\n+import 'package:medi_flow_new/doctor_appointments_screen.dart';\r\n \r\n class RoleSelectionScreen extends StatelessWidget {\r\n   const RoleSelectionScreen({super.key});\r\n \r\n@@ -10,17 +11,23 @@\n     await prefs.setString('user_role', role);\r\n     await prefs.setBool('role_selected', true);\r\n \r\n     if (context.mounted) {\r\n-      Navigator.pushReplacement(\r\n-        context,\r\n-        MaterialPageRoute(\r\n-          builder: (context) => HomeDashboard(\r\n-            userName: 'User',\r\n-            userRole: role,\r\n+      if (role == 'doctor') {\r\n+        Navigator.pushReplacement(\r\n+          context,\r\n+          MaterialPageRoute(\r\n+            builder: (context) => const DoctorAppointmentsScreen(),\r\n           ),\r\n-        ),\r\n-      );\r\n+        );\r\n+      } else {\r\n+        Navigator.pushReplacement(\r\n+          context,\r\n+          MaterialPageRoute(\r\n+            builder: (context) => const HomeDashboard(userName: 'User'),\r\n+          ),\r\n+        );\r\n+      }\r\n     }\r\n   }\r\n \r\n   @override\r\n@@ -47,9 +54,10 @@\n             ElevatedButton(\r\n               onPressed: () => _saveRoleAndNavigate(context, 'patient'),\r\n               style: ElevatedButton.styleFrom(\r\n                 backgroundColor: Colors.teal,\r\n-                padding: const EdgeInsets.symmetric(horizontal: 40, vertical: 16),\r\n+                padding:\r\n+                    const EdgeInsets.symmetric(horizontal: 40, vertical: 16),\r\n                 shape: RoundedRectangleBorder(\r\n                   borderRadius: BorderRadius.circular(12),\r\n                 ),\r\n               ),\r\n@@ -62,9 +70,10 @@\n             ElevatedButton(\r\n               onPressed: () => _saveRoleAndNavigate(context, 'doctor'),\r\n               style: ElevatedButton.styleFrom(\r\n                 backgroundColor: Colors.teal,\r\n-                padding: const EdgeInsets.symmetric(horizontal: 40, vertical: 16),\r\n+                padding:\r\n+                    const EdgeInsets.symmetric(horizontal: 40, vertical: 16),\r\n                 shape: RoundedRectangleBorder(\r\n                   borderRadius: BorderRadius.circular(12),\r\n                 ),\r\n               ),\r\n@@ -77,5 +86,5 @@\n         ),\r\n       ),\r\n     );\r\n   }\r\n-} \n\\ No newline at end of file\n+}\r\n"
                },
                {
                    "date": 1744621142183,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n       } else {\r\n         Navigator.pushReplacement(\r\n           context,\r\n           MaterialPageRoute(\r\n-            builder: (context) => const HomeDashboard(userName: 'User'),\r\n+            builder: (context) => const HomeDashboard(userName: 'User', userRole: '',),\r\n           ),\r\n         );\r\n       }\r\n     }\r\n"
                },
                {
                    "date": 1744621288364,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,90 +1,1 @@\n-import 'package:flutter/material.dart';\r\n-import 'package:shared_preferences/shared_preferences.dart';\r\n-import 'package:medi_flow_new/home_dashboard.dart';\r\n-import 'package:medi_flow_new/doctor_appointments_screen.dart';\r\n-\r\n-class RoleSelectionScreen extends StatelessWidget {\r\n-  const RoleSelectionScreen({super.key});\r\n-\r\n-  Future<void> _saveRoleAndNavigate(BuildContext context, String role) async {\r\n-    final prefs = await SharedPreferences.getInstance();\r\n-    await prefs.setString('user_role', role);\r\n-    await prefs.setBool('role_selected', true);\r\n-\r\n-    if (context.mounted) {\r\n-      if (role == 'doctor') {\r\n-        Navigator.pushReplacement(\r\n-          context,\r\n-          MaterialPageRoute(\r\n-            builder: (context) => const DoctorAppointmentsScreen(),\r\n-          ),\r\n-        );\r\n-      } else {\r\n-        Navigator.pushReplacement(\r\n-          context,\r\n-          MaterialPageRoute(\r\n-            builder: (context) => const HomeDashboard(userName: 'User', userRole: '',),\r\n-          ),\r\n-        );\r\n-      }\r\n-    }\r\n-  }\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Scaffold(\r\n-      body: Center(\r\n-        child: Column(\r\n-          mainAxisAlignment: MainAxisAlignment.center,\r\n-          children: [\r\n-            const Text(\r\n-              'Welcome to MediFlow',\r\n-              style: TextStyle(\r\n-                fontSize: 24,\r\n-                fontWeight: FontWeight.bold,\r\n-                color: Colors.teal,\r\n-              ),\r\n-            ),\r\n-            const SizedBox(height: 40),\r\n-            const Text(\r\n-              'Please select your role',\r\n-              style: TextStyle(fontSize: 18),\r\n-            ),\r\n-            const SizedBox(height: 20),\r\n-            ElevatedButton(\r\n-              onPressed: () => _saveRoleAndNavigate(context, 'patient'),\r\n-              style: ElevatedButton.styleFrom(\r\n-                backgroundColor: Colors.teal,\r\n-                padding:\r\n-                    const EdgeInsets.symmetric(horizontal: 40, vertical: 16),\r\n-                shape: RoundedRectangleBorder(\r\n-                  borderRadius: BorderRadius.circular(12),\r\n-                ),\r\n-              ),\r\n-              child: const Text(\r\n-                'I am a Patient',\r\n-                style: TextStyle(fontSize: 18, color: Colors.white),\r\n-              ),\r\n-            ),\r\n-            const SizedBox(height: 20),\r\n-            ElevatedButton(\r\n-              onPressed: () => _saveRoleAndNavigate(context, 'doctor'),\r\n-              style: ElevatedButton.styleFrom(\r\n-                backgroundColor: Colors.teal,\r\n-                padding:\r\n-                    const EdgeInsets.symmetric(horizontal: 40, vertical: 16),\r\n-                shape: RoundedRectangleBorder(\r\n-                  borderRadius: BorderRadius.circular(12),\r\n-                ),\r\n-              ),\r\n-              child: const Text(\r\n-                'I am a Doctor',\r\n-                style: TextStyle(fontSize: 18, color: Colors.white),\r\n-              ),\r\n-            ),\r\n-          ],\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n+ \n\\ No newline at end of file\n"
                }
            ],
            "date": 1744620891769,
            "name": "Commit-0",
            "content": "import 'package:flutter/material.dart';\r\nimport 'package:shared_preferences/shared_preferences.dart';\r\nimport 'package:medi_flow_new/home_dashboard.dart';\r\n\r\nclass RoleSelectionScreen extends StatelessWidget {\r\n  const RoleSelectionScreen({super.key});\r\n\r\n  Future<void> _saveRoleAndNavigate(BuildContext context, String role) async {\r\n    final prefs = await SharedPreferences.getInstance();\r\n    await prefs.setString('user_role', role);\r\n    await prefs.setBool('role_selected', true);\r\n\r\n    if (context.mounted) {\r\n      Navigator.pushReplacement(\r\n        context,\r\n        MaterialPageRoute(\r\n          builder: (context) => HomeDashboard(\r\n            userName: 'User',\r\n            userRole: role,\r\n          ),\r\n        ),\r\n      );\r\n    }\r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return Scaffold(\r\n      body: Center(\r\n        child: Column(\r\n          mainAxisAlignment: MainAxisAlignment.center,\r\n          children: [\r\n            const Text(\r\n              'Welcome to MediFlow',\r\n              style: TextStyle(\r\n                fontSize: 24,\r\n                fontWeight: FontWeight.bold,\r\n                color: Colors.teal,\r\n              ),\r\n            ),\r\n            const SizedBox(height: 40),\r\n            const Text(\r\n              'Please select your role',\r\n              style: TextStyle(fontSize: 18),\r\n            ),\r\n            const SizedBox(height: 20),\r\n            ElevatedButton(\r\n              onPressed: () => _saveRoleAndNavigate(context, 'patient'),\r\n              style: ElevatedButton.styleFrom(\r\n                backgroundColor: Colors.teal,\r\n                padding: const EdgeInsets.symmetric(horizontal: 40, vertical: 16),\r\n                shape: RoundedRectangleBorder(\r\n                  borderRadius: BorderRadius.circular(12),\r\n                ),\r\n              ),\r\n              child: const Text(\r\n                'I am a Patient',\r\n                style: TextStyle(fontSize: 18, color: Colors.white),\r\n              ),\r\n            ),\r\n            const SizedBox(height: 20),\r\n            ElevatedButton(\r\n              onPressed: () => _saveRoleAndNavigate(context, 'doctor'),\r\n              style: ElevatedButton.styleFrom(\r\n                backgroundColor: Colors.teal,\r\n                padding: const EdgeInsets.symmetric(horizontal: 40, vertical: 16),\r\n                shape: RoundedRectangleBorder(\r\n                  borderRadius: BorderRadius.circular(12),\r\n                ),\r\n              ),\r\n              child: const Text(\r\n                'I am a Doctor',\r\n                style: TextStyle(fontSize: 18, color: Colors.white),\r\n              ),\r\n            ),\r\n          ],\r\n        ),\r\n      ),\r\n    );\r\n  }\r\n} "
        }
    ]
}