{
    "sourceFile": "lib/onboarding_screen.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 8,
            "patches": [
                {
                    "date": 1744488563685,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1744490125546,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,84 +0,0 @@\n-// onboarding_screen.dart\r\n-\r\n-import 'package:flutter/material.dart';\r\n-\r\n-class OnboardingScreen extends StatefulWidget {\r\n-  const OnboardingScreen({super.key});\r\n-\r\n-  @override\r\n-  State<OnboardingScreen> createState() => _OnboardingScreenState();\r\n-}\r\n-\r\n-class _OnboardingScreenState extends State<OnboardingScreen> {\r\n-  final _formKey = GlobalKey<FormState>();\r\n-  String name = '', age = '', sex = '', contact = '';\r\n-  String medications = '', diseases = '', allergies = '';\r\n-  bool consentGiven = false;\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Scaffold(\r\n-      appBar: AppBar(title: const Text(\"Complete Your Profile\")),\r\n-      body: Padding(\r\n-        padding: const EdgeInsets.all(16),\r\n-        child: Form(\r\n-          key: _formKey,\r\n-          child: ListView(\r\n-            children: [\r\n-              const Text(\"Personal Information\", style: TextStyle(fontWeight: FontWeight.bold)),\r\n-              TextFormField(\r\n-                decoration: const InputDecoration(labelText: \"Name\"),\r\n-                onChanged: (val) => name = val,\r\n-              ),\r\n-              TextFormField(\r\n-                decoration: const InputDecoration(labelText: \"Age\"),\r\n-                keyboardType: TextInputType.number,\r\n-                onChanged: (val) => age = val,\r\n-              ),\r\n-              TextFormField(\r\n-                decoration: const InputDecoration(labelText: \"Sex\"),\r\n-                onChanged: (val) => sex = val,\r\n-              ),\r\n-              TextFormField(\r\n-                decoration: const InputDecoration(labelText: \"Contact\"),\r\n-                keyboardType: TextInputType.phone,\r\n-                onChanged: (val) => contact = val,\r\n-              ),\r\n-              const SizedBox(height: 20),\r\n-              const Text(\"Health Info\", style: TextStyle(fontWeight: FontWeight.bold)),\r\n-              TextFormField(\r\n-                decoration: const InputDecoration(labelText: \"Regular Medications\"),\r\n-                onChanged: (val) => medications = val,\r\n-              ),\r\n-              TextFormField(\r\n-                decoration: const InputDecoration(labelText: \"Known Diseases/Conditions\"),\r\n-                onChanged: (val) => diseases = val,\r\n-              ),\r\n-              TextFormField(\r\n-                decoration: const InputDecoration(labelText: \"Allergies\"),\r\n-                onChanged: (val) => allergies = val,\r\n-              ),\r\n-              const SizedBox(height: 20),\r\n-              CheckboxListTile(\r\n-                value: consentGiven,\r\n-                onChanged: (val) => setState(() => consentGiven = val ?? false),\r\n-                title: const Text(\"I consent to data processing (GDPR)\"),\r\n-              ),\r\n-              const SizedBox(height: 20),\r\n-              ElevatedButton(\r\n-                onPressed: () {\r\n-                  if (_formKey.currentState!.validate() && consentGiven) {\r\n-                    // Save to Firebase or SharedPrefs, then go to Home\r\n-                    // Example only:\r\n-                    Navigator.pushReplacementNamed(context, '/home');\r\n-                  }\r\n-                },\r\n-                child: const Text(\"Submit\"),\r\n-              ),\r\n-            ],\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n\\ No newline at end of file\n"
                },
                {
                    "date": 1744490271056,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1 +1,84 @@\n-\n+// onboarding_screen.dart\r\n+\r\n+import 'package:flutter/material.dart';\r\n+\r\n+class OnboardingScreen extends StatefulWidget {\r\n+  const OnboardingScreen({super.key});\r\n+\r\n+  @override\r\n+  State<OnboardingScreen> createState() => _OnboardingScreenState();\r\n+}\r\n+\r\n+class _OnboardingScreenState extends State<OnboardingScreen> {\r\n+  final _formKey = GlobalKey<FormState>();\r\n+  String name = '', age = '', sex = '', contact = '';\r\n+  String medications = '', diseases = '', allergies = '';\r\n+  bool consentGiven = false;\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Scaffold(\r\n+      appBar: AppBar(title: const Text(\"Complete Your Profile\")),\r\n+      body: Padding(\r\n+        padding: const EdgeInsets.all(16),\r\n+        child: Form(\r\n+          key: _formKey,\r\n+          child: ListView(\r\n+            children: [\r\n+              const Text(\"Personal Information\", style: TextStyle(fontWeight: FontWeight.bold)),\r\n+              TextFormField(\r\n+                decoration: const InputDecoration(labelText: \"Name\"),\r\n+                onChanged: (val) => name = val,\r\n+              ),\r\n+              TextFormField(\r\n+                decoration: const InputDecoration(labelText: \"Age\"),\r\n+                keyboardType: TextInputType.number,\r\n+                onChanged: (val) => age = val,\r\n+              ),\r\n+              TextFormField(\r\n+                decoration: const InputDecoration(labelText: \"Sex\"),\r\n+                onChanged: (val) => sex = val,\r\n+              ),\r\n+              TextFormField(\r\n+                decoration: const InputDecoration(labelText: \"Contact\"),\r\n+                keyboardType: TextInputType.phone,\r\n+                onChanged: (val) => contact = val,\r\n+              ),\r\n+              const SizedBox(height: 20),\r\n+              const Text(\"Health Info\", style: TextStyle(fontWeight: FontWeight.bold)),\r\n+              TextFormField(\r\n+                decoration: const InputDecoration(labelText: \"Regular Medications\"),\r\n+                onChanged: (val) => medications = val,\r\n+              ),\r\n+              TextFormField(\r\n+                decoration: const InputDecoration(labelText: \"Known Diseases/Conditions\"),\r\n+                onChanged: (val) => diseases = val,\r\n+              ),\r\n+              TextFormField(\r\n+                decoration: const InputDecoration(labelText: \"Allergies\"),\r\n+                onChanged: (val) => allergies = val,\r\n+              ),\r\n+              const SizedBox(height: 20),\r\n+              CheckboxListTile(\r\n+                value: consentGiven,\r\n+                onChanged: (val) => setState(() => consentGiven = val ?? false),\r\n+                title: const Text(\"I consent to data processing (GDPR)\"),\r\n+              ),\r\n+              const SizedBox(height: 20),\r\n+              ElevatedButton(\r\n+                onPressed: () {\r\n+                  if (_formKey.currentState!.validate() && consentGiven) {\r\n+                    // Save to Firebase or SharedPrefs, then go to Home\r\n+                    // Example only:\r\n+                    Navigator.pushReplacementNamed(context, '/home');\r\n+                  }\r\n+                },\r\n+                child: const Text(\"Submit\"),\r\n+              ),\r\n+            ],\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n"
                },
                {
                    "date": 1744490741577,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -72,10 +72,24 @@\n                     // Example only:\r\n                     Navigator.pushReplacementNamed(context, '/home');\r\n                   }\r\n                 },\r\n+                ElevatedButton(\r\n+                onPressed: () {\r\n+                  if (_formKey.currentState!.validate() && consentGiven) {\r\n+                    // Save the data (optional)\r\n+                    // Navigate to HomeDashboard screen\r\n+                    Navigator.pushReplacement(\r\n+                      context,\r\n+                      MaterialPageRoute(\r\n+                        builder: (context) => HomeDashboard(userName: name),\r\n+                      ),\r\n+                    );\r\n+                  }\r\n+                },\r\n                 child: const Text(\"Submit\"),\r\n               ),\r\n+              ),\r\n             ],\r\n           ),\r\n         ),\r\n       ),\r\n"
                },
                {
                    "date": 1744490750594,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n // onboarding_screen.dart\r\n \r\n import 'package:flutter/material.dart';\r\n+import 'package:medi_flow_new/home_dashboard.dart';\r\n \r\n class OnboardingScreen extends StatefulWidget {\r\n   const OnboardingScreen({super.key});\r\n \r\n"
                },
                {
                    "date": 1744490760704,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,12 @@\n         child: Form(\r\n           key: _formKey,\r\n           child: ListView(\r\n             children: [\r\n-              const Text(\"Personal Information\", style: TextStyle(fontWeight: FontWeight.bold)),\r\n+              const Text(\r\n+                \"Personal Information\",\r\n+                style: TextStyle(fontWeight: FontWeight.bold),\r\n+              ),\r\n               TextFormField(\r\n                 decoration: const InputDecoration(labelText: \"Name\"),\r\n                 onChanged: (val) => name = val,\r\n               ),\r\n@@ -45,15 +48,22 @@\n                 keyboardType: TextInputType.phone,\r\n                 onChanged: (val) => contact = val,\r\n               ),\r\n               const SizedBox(height: 20),\r\n-              const Text(\"Health Info\", style: TextStyle(fontWeight: FontWeight.bold)),\r\n+              const Text(\r\n+                \"Health Info\",\r\n+                style: TextStyle(fontWeight: FontWeight.bold),\r\n+              ),\r\n               TextFormField(\r\n-                decoration: const InputDecoration(labelText: \"Regular Medications\"),\r\n+                decoration: const InputDecoration(\r\n+                  labelText: \"Regular Medications\",\r\n+                ),\r\n                 onChanged: (val) => medications = val,\r\n               ),\r\n               TextFormField(\r\n-                decoration: const InputDecoration(labelText: \"Known Diseases/Conditions\"),\r\n+                decoration: const InputDecoration(\r\n+                  labelText: \"Known Diseases/Conditions\",\r\n+                ),\r\n                 onChanged: (val) => diseases = val,\r\n               ),\r\n               TextFormField(\r\n                 decoration: const InputDecoration(labelText: \"Allergies\"),\r\n@@ -68,18 +78,8 @@\n               const SizedBox(height: 20),\r\n               ElevatedButton(\r\n                 onPressed: () {\r\n                   if (_formKey.currentState!.validate() && consentGiven) {\r\n-                    // Save to Firebase or SharedPrefs, then go to Home\r\n-                    // Example only:\r\n-                    Navigator.pushReplacementNamed(context, '/home');\r\n-                  }\r\n-                },\r\n-                ElevatedButton(\r\n-                onPressed: () {\r\n-                  if (_formKey.currentState!.validate() && consentGiven) {\r\n-                    // Save the data (optional)\r\n-                    // Navigate to HomeDashboard screen\r\n                     Navigator.pushReplacement(\r\n                       context,\r\n                       MaterialPageRoute(\r\n                         builder: (context) => HomeDashboard(userName: name),\r\n@@ -88,9 +88,8 @@\n                   }\r\n                 },\r\n                 child: const Text(\"Submit\"),\r\n               ),\r\n-              ),\r\n             ],\r\n           ),\r\n         ),\r\n       ),\r\n"
                },
                {
                    "date": 1744490889294,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,9 @@\n // onboarding_screen.dart\r\n \r\n import 'package:flutter/material.dart';\r\n import 'package:medi_flow_new/home_dashboard.dart';\r\n+import 'package:shared_preferences/shared_preferences.dart';\r\n \r\n class OnboardingScreen extends StatefulWidget {\r\n   const OnboardingScreen({super.key});\r\n \r\n@@ -76,10 +77,14 @@\n                 title: const Text(\"I consent to data processing (GDPR)\"),\r\n               ),\r\n               const SizedBox(height: 20),\r\n               ElevatedButton(\r\n-                onPressed: () {\r\n+                onPressed: () async {\r\n                   if (_formKey.currentState!.validate() && consentGiven) {\r\n+                    // Save onboarding completion status\r\n+                    final prefs = await SharedPreferences.getInstance();\r\n+                    await prefs.setBool('onboarding_done', true);\r\n+\r\n                     Navigator.pushReplacement(\r\n                       context,\r\n                       MaterialPageRoute(\r\n                         builder: (context) => HomeDashboard(userName: name),\r\n"
                },
                {
                    "date": 1744621136552,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -86,9 +86,9 @@\n \r\n                     Navigator.pushReplacement(\r\n                       context,\r\n                       MaterialPageRoute(\r\n-                        builder: (context) => HomeDashboard(userName: name),\r\n+                        builder: (context) => HomeDashboard(userName: name, userRole: '',),\r\n                       ),\r\n                     );\r\n                   }\r\n                 },\r\n"
                },
                {
                    "date": 1744621288105,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,103 +1,103 @@\n-// onboarding_screen.dart\r\n-\r\n-import 'package:flutter/material.dart';\r\n-import 'package:medi_flow_new/home_dashboard.dart';\r\n-import 'package:shared_preferences/shared_preferences.dart';\r\n-\r\n-class OnboardingScreen extends StatefulWidget {\r\n-  const OnboardingScreen({super.key});\r\n-\r\n-  @override\r\n-  State<OnboardingScreen> createState() => _OnboardingScreenState();\r\n-}\r\n-\r\n-class _OnboardingScreenState extends State<OnboardingScreen> {\r\n-  final _formKey = GlobalKey<FormState>();\r\n-  String name = '', age = '', sex = '', contact = '';\r\n-  String medications = '', diseases = '', allergies = '';\r\n-  bool consentGiven = false;\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Scaffold(\r\n-      appBar: AppBar(title: const Text(\"Complete Your Profile\")),\r\n-      body: Padding(\r\n-        padding: const EdgeInsets.all(16),\r\n-        child: Form(\r\n-          key: _formKey,\r\n-          child: ListView(\r\n-            children: [\r\n-              const Text(\r\n-                \"Personal Information\",\r\n-                style: TextStyle(fontWeight: FontWeight.bold),\r\n-              ),\r\n-              TextFormField(\r\n-                decoration: const InputDecoration(labelText: \"Name\"),\r\n-                onChanged: (val) => name = val,\r\n-              ),\r\n-              TextFormField(\r\n-                decoration: const InputDecoration(labelText: \"Age\"),\r\n-                keyboardType: TextInputType.number,\r\n-                onChanged: (val) => age = val,\r\n-              ),\r\n-              TextFormField(\r\n-                decoration: const InputDecoration(labelText: \"Sex\"),\r\n-                onChanged: (val) => sex = val,\r\n-              ),\r\n-              TextFormField(\r\n-                decoration: const InputDecoration(labelText: \"Contact\"),\r\n-                keyboardType: TextInputType.phone,\r\n-                onChanged: (val) => contact = val,\r\n-              ),\r\n-              const SizedBox(height: 20),\r\n-              const Text(\r\n-                \"Health Info\",\r\n-                style: TextStyle(fontWeight: FontWeight.bold),\r\n-              ),\r\n-              TextFormField(\r\n-                decoration: const InputDecoration(\r\n-                  labelText: \"Regular Medications\",\r\n-                ),\r\n-                onChanged: (val) => medications = val,\r\n-              ),\r\n-              TextFormField(\r\n-                decoration: const InputDecoration(\r\n-                  labelText: \"Known Diseases/Conditions\",\r\n-                ),\r\n-                onChanged: (val) => diseases = val,\r\n-              ),\r\n-              TextFormField(\r\n-                decoration: const InputDecoration(labelText: \"Allergies\"),\r\n-                onChanged: (val) => allergies = val,\r\n-              ),\r\n-              const SizedBox(height: 20),\r\n-              CheckboxListTile(\r\n-                value: consentGiven,\r\n-                onChanged: (val) => setState(() => consentGiven = val ?? false),\r\n-                title: const Text(\"I consent to data processing (GDPR)\"),\r\n-              ),\r\n-              const SizedBox(height: 20),\r\n-              ElevatedButton(\r\n-                onPressed: () async {\r\n-                  if (_formKey.currentState!.validate() && consentGiven) {\r\n-                    // Save onboarding completion status\r\n-                    final prefs = await SharedPreferences.getInstance();\r\n-                    await prefs.setBool('onboarding_done', true);\r\n-\r\n-                    Navigator.pushReplacement(\r\n-                      context,\r\n-                      MaterialPageRoute(\r\n-                        builder: (context) => HomeDashboard(userName: name, userRole: '',),\r\n-                      ),\r\n-                    );\r\n-                  }\r\n-                },\r\n-                child: const Text(\"Submit\"),\r\n-              ),\r\n-            ],\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n+// onboarding_screen.dart\n+\n+import 'package:flutter/material.dart';\n+import 'package:medi_flow_new/home_dashboard.dart';\n+import 'package:shared_preferences/shared_preferences.dart';\n+\n+class OnboardingScreen extends StatefulWidget {\n+  const OnboardingScreen({super.key});\n+\n+  @override\n+  State<OnboardingScreen> createState() => _OnboardingScreenState();\n+}\n+\n+class _OnboardingScreenState extends State<OnboardingScreen> {\n+  final _formKey = GlobalKey<FormState>();\n+  String name = '', age = '', sex = '', contact = '';\n+  String medications = '', diseases = '', allergies = '';\n+  bool consentGiven = false;\n+\n+  @override\n+  Widget build(BuildContext context) {\n+    return Scaffold(\n+      appBar: AppBar(title: const Text(\"Complete Your Profile\")),\n+      body: Padding(\n+        padding: const EdgeInsets.all(16),\n+        child: Form(\n+          key: _formKey,\n+          child: ListView(\n+            children: [\n+              const Text(\n+                \"Personal Information\",\n+                style: TextStyle(fontWeight: FontWeight.bold),\n+              ),\n+              TextFormField(\n+                decoration: const InputDecoration(labelText: \"Name\"),\n+                onChanged: (val) => name = val,\n+              ),\n+              TextFormField(\n+                decoration: const InputDecoration(labelText: \"Age\"),\n+                keyboardType: TextInputType.number,\n+                onChanged: (val) => age = val,\n+              ),\n+              TextFormField(\n+                decoration: const InputDecoration(labelText: \"Sex\"),\n+                onChanged: (val) => sex = val,\n+              ),\n+              TextFormField(\n+                decoration: const InputDecoration(labelText: \"Contact\"),\n+                keyboardType: TextInputType.phone,\n+                onChanged: (val) => contact = val,\n+              ),\n+              const SizedBox(height: 20),\n+              const Text(\n+                \"Health Info\",\n+                style: TextStyle(fontWeight: FontWeight.bold),\n+              ),\n+              TextFormField(\n+                decoration: const InputDecoration(\n+                  labelText: \"Regular Medications\",\n+                ),\n+                onChanged: (val) => medications = val,\n+              ),\n+              TextFormField(\n+                decoration: const InputDecoration(\n+                  labelText: \"Known Diseases/Conditions\",\n+                ),\n+                onChanged: (val) => diseases = val,\n+              ),\n+              TextFormField(\n+                decoration: const InputDecoration(labelText: \"Allergies\"),\n+                onChanged: (val) => allergies = val,\n+              ),\n+              const SizedBox(height: 20),\n+              CheckboxListTile(\n+                value: consentGiven,\n+                onChanged: (val) => setState(() => consentGiven = val ?? false),\n+                title: const Text(\"I consent to data processing (GDPR)\"),\n+              ),\n+              const SizedBox(height: 20),\n+              ElevatedButton(\n+                onPressed: () async {\n+                  if (_formKey.currentState!.validate() && consentGiven) {\n+                    // Save onboarding completion status\n+                    final prefs = await SharedPreferences.getInstance();\n+                    await prefs.setBool('onboarding_done', true);\n+\n+                    Navigator.pushReplacement(\n+                      context,\n+                      MaterialPageRoute(\n+                        builder: (context) => HomeDashboard(userName: name),\n+                      ),\n+                    );\n+                  }\n+                },\n+                child: const Text(\"Submit\"),\n+              ),\n+            ],\n+          ),\n+        ),\n+      ),\n+    );\n+  }\n+}\n"
                }
            ],
            "date": 1744488563685,
            "name": "Commit-0",
            "content": "// onboarding_screen.dart\r\n\r\nimport 'package:flutter/material.dart';\r\n\r\nclass OnboardingScreen extends StatefulWidget {\r\n  const OnboardingScreen({super.key});\r\n\r\n  @override\r\n  State<OnboardingScreen> createState() => _OnboardingScreenState();\r\n}\r\n\r\nclass _OnboardingScreenState extends State<OnboardingScreen> {\r\n  final _formKey = GlobalKey<FormState>();\r\n  String name = '', age = '', sex = '', contact = '';\r\n  String medications = '', diseases = '', allergies = '';\r\n  bool consentGiven = false;\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return Scaffold(\r\n      appBar: AppBar(title: const Text(\"Complete Your Profile\")),\r\n      body: Padding(\r\n        padding: const EdgeInsets.all(16),\r\n        child: Form(\r\n          key: _formKey,\r\n          child: ListView(\r\n            children: [\r\n              const Text(\"Personal Information\", style: TextStyle(fontWeight: FontWeight.bold)),\r\n              TextFormField(\r\n                decoration: const InputDecoration(labelText: \"Name\"),\r\n                onChanged: (val) => name = val,\r\n              ),\r\n              TextFormField(\r\n                decoration: const InputDecoration(labelText: \"Age\"),\r\n                keyboardType: TextInputType.number,\r\n                onChanged: (val) => age = val,\r\n              ),\r\n              TextFormField(\r\n                decoration: const InputDecoration(labelText: \"Sex\"),\r\n                onChanged: (val) => sex = val,\r\n              ),\r\n              TextFormField(\r\n                decoration: const InputDecoration(labelText: \"Contact\"),\r\n                keyboardType: TextInputType.phone,\r\n                onChanged: (val) => contact = val,\r\n              ),\r\n              const SizedBox(height: 20),\r\n              const Text(\"Health Info\", style: TextStyle(fontWeight: FontWeight.bold)),\r\n              TextFormField(\r\n                decoration: const InputDecoration(labelText: \"Regular Medications\"),\r\n                onChanged: (val) => medications = val,\r\n              ),\r\n              TextFormField(\r\n                decoration: const InputDecoration(labelText: \"Known Diseases/Conditions\"),\r\n                onChanged: (val) => diseases = val,\r\n              ),\r\n              TextFormField(\r\n                decoration: const InputDecoration(labelText: \"Allergies\"),\r\n                onChanged: (val) => allergies = val,\r\n              ),\r\n              const SizedBox(height: 20),\r\n              CheckboxListTile(\r\n                value: consentGiven,\r\n                onChanged: (val) => setState(() => consentGiven = val ?? false),\r\n                title: const Text(\"I consent to data processing (GDPR)\"),\r\n              ),\r\n              const SizedBox(height: 20),\r\n              ElevatedButton(\r\n                onPressed: () {\r\n                  if (_formKey.currentState!.validate() && consentGiven) {\r\n                    // Save to Firebase or SharedPrefs, then go to Home\r\n                    // Example only:\r\n                    Navigator.pushReplacementNamed(context, '/home');\r\n                  }\r\n                },\r\n                child: const Text(\"Submit\"),\r\n              ),\r\n            ],\r\n          ),\r\n        ),\r\n      ),\r\n    );\r\n  }\r\n}\r\n"
        }
    ]
}